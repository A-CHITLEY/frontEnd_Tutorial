<!DOCTYPE html>
<html>
<head>
	<title>Extract</title>
<link rel="shortcut icon" href="./Favi_1.jpg">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<style type="text/css">
	    .parentButton{
	    	display: block;
	    }
  		.button{
  			display: inline-block;
  			float: left;
  		}

	</style>
</head>

<body>

  <div class="btn">
    <button type="submit" onclick="UserAction()"> ALL  </button>
  </div>
  <div class="container-fluid" id= "container">

  </div>
  </div>

  <script type="text/javascript">

      async function UserAction() {
      var str;
      const response = await fetch('https://jsonplaceholder.typicode.com/photos');
      const response1 = await fetch('https://jsonplaceholder.typicode.com/comments');

       a = JSON.parse(await response.text());
       b = JSON.parse(await response1.text());

      for (var i = 1;  i <= 47; i++) {
         d = "<div class='col-sm-4 text-center'>"+ "<div class='card'>"+ "<a onclick='saveSess("+i+")' href='./Detail'><img class='img-fluid' src='"+ a[i].thumbnailUrl + "' alt='./Favi_1.jpg'></a>" + "<div class='card-body'>" + "<h4 class='card-title'>" + a[i].title +"</h4>" + "</div>"+ "</div>"+ "</div>";
         if(i == 1){
          str = "<div class='row'>" + d;
         }
         else{
          str += d;
          if(i%3 == 0 || i == 47){

          str += "</div>" + "<div class='row'>";

         }
      }
    }
      document.getElementById("container").innerHTML = str;

   }

  function saveSess(i){
    sessionStorage.setItem("image", a[i].thumbnailUrl);
    sessionStorage.setItem("title", a[i].title);
    sessionStorage.setItem("comment", b[i].body);
   }
  </script>
</body>
</html>